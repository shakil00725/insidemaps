(this.webpackJsonpinsidemaps=this.webpackJsonpinsidemaps||[]).push([[0],{48:function(n,e,t){n.exports=t(99)},53:function(n,e,t){},54:function(n,e,t){},99:function(n,e,t){"use strict";t.r(e);var a=t(0),r=t.n(a),o=t(12),i=t.n(o),c=(t(53),t(54),t(7)),s=t.n(c),l=t(18),u=t(13),d=t(14),p=t(17),m=t(16),g=t(3),f=t(4);function h(){var n=Object(g.a)(["\n  width: 900px;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  align-items: center;\n  @media (max-width: 800px) {\n    width: 100%;\n  }\n"]);return h=function(){return n},n}function x(){var n=Object(g.a)(["\n  box-shadow: 0px 2px 5px 0px rgba(0, 0, 0, 0.75);\n  height: 60%;\n  background: #eeeeee;\n  width: 60%;\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  align-items: center;\n  border: 5px solid #00adb5;\n\n  @media (max-width: 800px) {\n    width: 100%;\n    height: 100%;\n  }\n\n  > h1 {\n    font-size: 1.5em;\n    color: #00adb5;\n  }\n\n  > input {\n    box-shadow: inset 0 0 55px 1px #393e46;\n    background: #393e46;\n    border: none;\n    font-size: 1rem;\n    padding: 10px;\n    margin: 10px;\n    height: 30px;\n    width: 70%;\n    color: #00adb5;\n  }\n\n  > button {\n    width: 50%;\n    margin: 1em;\n    font-size: 1rem;\n    border: none;\n    background: #00adb5;\n    color: white;\n    height: 3em;\n    borderl: none;\n    box-shadow: 0px 2px 5px 0px rgba(0, 0, 0, 0.75);\n    border: 2px solid #393e46;\n    cursor: pointer;\n    color: #393e46;\n  }\n\n  > span {\n    font-size: 0.8em;\n    font-weight: bold;\n\n    > a {\n      text-decoration: none;\n      color: #2ed4ae;\n    }\n  }\n"]);return x=function(){return n},n}var b=f.a.div(x()),v=f.a.section(h()),w=function(n){var e=n.getOrgID,t=n.getMasterToken,a=n.getToken;return(r.a.createElement(v,null,r.a.createElement(b,null,r.a.createElement("h1",null,"Inside Maps"),r.a.createElement("input",{onChange:e,type:"text",placeholder:"Enter OrgID"}),r.a.createElement("input",{onChange:t,type:"text",placeholder:"Enter OrgToken"}),r.a.createElement("button",{onClick:a},"Login"))))},j=t(19),k=t.n(j),y=t(11),O=t(25),E=t.n(O),I=t(44),T=t.n(I),C=function(n){Object(p.a)(t,n);var e=Object(m.a)(t);function t(){return Object(u.a)(this,t),e.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(T.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:5e3}))}}]),t}(a.Component),S=t(45),D=t.n(S);function P(){var n=Object(g.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 15px;\n  input {\n    border-radius: 5px;\n    font-size:1.2rem;\n    box-shadow: inset 0 0 55px 1px #393e46;\n    background: #393e46;\n    border: none;\n    padding: 10px;\n    height: 30px;\n    width: 80%;\n    color: white;\n  }\n"]);return P=function(){return n},n}function z(){var n=Object(g.a)(["\n  max-width: 1403px;\n  width: 70%;\n  margin: 0 auto;\n\n  @media (max-width: 800px) {\n    width: 100%;\n  }\n"]);return z=function(){return n},n}function B(){var n=Object(g.a)(["\n  position:sticky;\n  top:0;\n  background: #00adb5;\n  box-shadow: 0px 2px 5px 0px rgba(0, 0, 0, 0.75);\n  border-bottom: 5px solid #393e46;\n"]);return B=function(){return n},n}function L(){var n=Object(g.a)(["\n  height: 100px;\n  color: #393e46;\n  padding: 5px;\n  padding-left: 20px;\n  padding-right: 20px;\n  cursor: pointer;\n\n  &:hover {\n    color: white;\n  }\n"]);return L=function(){return n},n}var W=Object(f.a)(D.a)(L()),A=f.a.div(B()),M=f.a.div(z()),F=f.a.div(P()),R=function(n){var e=n.sortList,t=n.filterSearch;return(r.a.createElement(A,null,r.a.createElement(M,null,r.a.createElement(F,null,r.a.createElement("input",{onChange:t,type:"text",placeholder:"Search..."}),r.a.createElement(W,{onClick:function(){return e()},fontSize:"large"})))))},H=t(21),J=t(9),N=t(26),q=t(23);function K(){var n=Object(g.a)(["\n  display: flex;\n  margin: 5px 10px 8px 10px;\n  align-items: flex-start;\n  flex-wrap: wrap;\n  min-height: 48px;\n  width: auto;\n  padding: 0 8px;\n  border: 1px solid rgb(214, 216, 218);\n  border-radius: 6px;\n  &:focus-within {\n    border: 1px solid #7395c6;\n  }\n\n  input {\n    align-self: center;\n    flex: 1;\n    background-color: #eeeeee;\n    border: none;\n    height: 40px;\n    font-size: 14px;\n    padding: 4px 0 0 0;\n    &:focus {\n      outline: transparent;\n    }\n  }\n\n  div {\n    align-self: center;\n    display: flex;\n    width: 200px;\n    flex-wrap: wrap;\n    padding: 0;\n    margin: 8px 0 0 0;\n\n    div {\n      width: auto;\n    }\n  }\n\n  ul {\n    display: flex;\n    flex-wrap: wrap;\n    padding: 0;\n    margin: 8px 0 0 0;\n\n    li {\n      width: auto;\n      height: 32px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: #fff;\n      padding: 0 8px;\n      font-size: 14px;\n      list-style: none;\n      border-radius: 6px;\n      margin: 0 8px 8px 0;\n      background: #00adb5;\n\n      span:nth-child(1) {\n        margin-top: 3px;\n      }\n\n      span:nth-child(2) {\n        display: block;\n        width: 16px;\n        height: 16px;\n        line-height: 16px;\n        text-align: center;\n        font-size: 14px;\n        margin-left: 8px;\n        color: #0052cc;\n        border-radius: 50%;\n        background: #fff;\n        cursor: pointer;\n      }\n    }\n  }\n"]);return K=function(){return n},n}function U(){var n=Object(g.a)(["\n  margin-top: 5px;\n  color: black;\n  text-transform: capitalize;\n  margin-left: 10px;\n  font-size: 1.2rem;\n"]);return U=function(){return n},n}function $(){var n=Object(g.a)(["\n  padding: 16;\n  margin: 0 0 12px 0;\n  border-radius: 5px;\n  background-color: #eeeeee;\n  border-top: 10px solid #00ADB5;\n  display: flex;\n  flex-direction: column;\n\n  img {\n    box-shadow: 0px 2px 5px 0px rgba(0,0,0,0.75);\n    margin-left: 10px;\n    margin-right: 10px;\n    margin-bottom: 5px;\n    margin-top: 6px;\n    border-radius: 5px;\n    object-fit: cover;\n    width: auto;\n    height: 150px;\n  }\n"]);return $=function(){return n},n}function G(){var n=Object(g.a)(["\n  width:350px;\n  @media (max-width: 800px) {\n    width:250px;\n  }\n"]);return G=function(){return n},n}function Q(){var n=Object(g.a)(["\n  background:#00adb5;\n  padding:6px 0 6px 0;\n  text-align:center;\n  color:#eeeeee;\n  font-size:1.8rem;\n  box-shadow: 0px 2px 5px 0px rgba(0,0,0,0.75);\n  margin:0px;\n  border-radius: 5px;\n  margin-bottom:10px;\n  width:350px;\n    @media (max-width: 800px) {\n    width:250px;\n  }\n"]);return Q=function(){return n},n}function V(){var n=Object(g.a)(["\n  margin: 0 auto;\n  @media (max-width: 800px) {\n    width:100%;\n  }\n"]);return V=function(){return n},n}function X(){var n=Object(g.a)(["\n  height:100%;\n"]);return X=function(){return n},n}var Y=f.a.div(X()),Z=f.a.div(V()),_=f.a.h1(Q()),nn=f.a.div(G()),en=f.a.div($()),tn=f.a.div(U()),an=f.a.div(K()),rn=function(n){var e=n.projectId,t=n.columnID,a=n.tags,o=n.removeTags,i=n.addTags;return r.a.createElement(an,null,r.a.createElement("ul",null,a.map((function(n,a){return r.a.createElement("li",{key:a},r.a.createElement("span",null,n),r.a.createElement("span",{onClick:function(){return o(t,e,a)}},"x"))}))),r.a.createElement("input",{type:"text",onKeyUp:function(n){return"Enter"===n.key?function(n){""===n.target.value||/\s/.test(n.target.value)||(i(n.target.value,t,e),n.target.value="")}(n):null},placeholder:"Press enter to add tags"}))},on=function(n){var e=n.columnID,t=n.project,a=n.index,o=n.addTags,i=n.removeTags;return(r.a.createElement(q.b,{key:t.id,draggableId:t.id,index:a},(function(n,a){return r.a.createElement(en,Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{style:Object(J.a)({},n.draggableProps.style)}),r.a.createElement("img",{src:t.image?t.image:"https://images.unsplash.com/photo-1492684223066-81342ee5ff30?ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80",alt:""}),r.a.createElement(tn,null,t.name),r.a.createElement(rn,{columnID:e,projectId:t.id,tags:t.tags,addTags:o,removeTags:i}))})))};var cn=function(n){var e=n.Columns,t=n.addTags,a=n.removeTags,o=n.changeColumns,i=n.filterWord;return r.a.createElement(Y,null,r.a.createElement(Z,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center",height:"100%",flexWrap:"wrap"}},r.a.createElement(q.a,{onDragEnd:function(n){return function(n,e,t){if(n.destination){var a=n.source,r=n.destination;if(a.droppableId!==r.droppableId){var o,i=e[a.droppableId],c=e[r.droppableId],s=Object(y.a)(i.items),l=Object(y.a)(c.items),u=s.splice(a.index,1),d=Object(N.a)(u,1)[0];l.splice(r.index,0,d),t(Object(J.a)({},e,(o={},Object(H.a)(o,a.droppableId,Object(J.a)({},i,{items:s})),Object(H.a)(o,r.droppableId,Object(J.a)({},c,{items:l})),o)))}else{var p=e[a.droppableId],m=Object(y.a)(p.items),g=m.splice(a.index,1),f=Object(N.a)(g,1)[0];m.splice(r.index,0,f),t(Object(J.a)({},e,Object(H.a)({},a.droppableId,Object(J.a)({},p,{items:m}))))}}}(n,e,o)}},Object.entries(e).map((function(n,e){var o=Object(N.a)(n,2),c=o[0],s=o[1];return(r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",margin:10},key:c},r.a.createElement("div",{style:{margin:8}},r.a.createElement(q.c,{droppableId:c,key:c},(function(n,e){return r.a.createElement(nn,Object.assign({},n.droppableProps,{ref:n.innerRef,style:{background:e.isDraggingOver?"gray":"#393E46",padding:8,boxShadow:"0px 2px 5px 0px rgba(0,0,0,0.75)",borderRadius:5,minHeight:200}}),r.a.createElement("div",null,r.a.createElement(_,null,s.name),s.items.map((function(n,e){if(function(n){return!i||-1!==n.tags.indexOf(i)}(n))return r.a.createElement(on,{key:e,columnID:c,project:n,index:e,addTags:t,removeTags:a})})),n.placeholder))})))))}))))))},sn=function(n){Object(p.a)(t,n);var e=Object(m.a)(t);function t(){var n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))).state={Columns:{column1:{name:"Completed",items:[]},column2:{name:"Pending",items:[]},column3:{name:"In Progress",items:[]}},isLoading:!0,filterWord:null},n.headers={Authorization:"Bearer ".concat(n.props.token)},n.addTag=function(e,t,a){var r=n.state.Columns,o=r[t].items.findIndex((function(n){return n.id===a}));r[t].items[o].tags=[].concat(Object(y.a)(r[t].items[o].tags),[e]),n.setState({Columns:r})},n.removeTags=function(e,t,a){var r=n.state.Columns,o=r[e].items.findIndex((function(n){return n.id===t})),i=r[e].items[o].tags.filter((function(n,e){return e!==a}));r[e].items[o].tags=i,n.setState({Columns:r})},n.getProjectDetails=Object(l.a)(s.a.mark((function e(){var t,a,r,o,i,c,l,u,d,p,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.orgID,e.next=3,k.a.get("https://www.insidemaps.com/api/v2/organizations/".concat(t,"/projects?updatedSince=2019-11-20"),{headers:n.headers});case 3:for(i in a=e.sent,n.setState({isLoading:!0}),r=Object(y.a)(a.data.data),o=[],r)c=r[i],o.push(n.getProjectNames(c)),o.push(n.getProjectImage(c));return e.next=10,Promise.all(o).catch((function(n){return[]}));case 10:l=e.sent,u=[],r.map((function(n,e){var t=l[2*e+0],a=l[2*e+1];u.push({id:n,name:t,image:a,tags:[]})})),d=n.state.Columns,p=d.column2,m=d.column3,n.setState({Columns:{column1:{name:"Completed",items:u},column2:p,column3:m},isLoading:!1});case 15:case"end":return e.stop()}}),e)}))),n.getProjectNames=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){k.a.get("https://www.insidemaps.com/api/v2/projects/".concat(t),{headers:n.headers}).then((function(n){e(n.data.data.name)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),n.getProjectImage=function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){k.a.get("https://www.insidemaps.com/api/v2/projects/".concat(t,"/images/hdr"),{headers:n.headers}).then((function(n){e(n.data.data[0])}))})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),n.makeItToBack=function(n){var e=0;for(var t in n){var a=n[t];if(a.tags&&0!==a.tags.length)break;e+=1}return n.slice(e).concat(n.slice(0,e))},n.sortList=function(){var e=n.state.Columns,t=e.column1,a=e.column2,r=e.column3,o=n.makeItToBack(E.a.sortBy(t.items,"tags")),i=n.makeItToBack(E.a.sortBy(a.items,"tags")),c=n.makeItToBack(E.a.sortBy(r.items,"tags"));n.setState({Columns:{column1:{name:"Completed",items:o},column2:{name:"Pending",items:i},column3:{name:"In Progress",items:c}}})},n.filterSearch=function(e){var t=e.target.value;""===t||/\s/.test(e.target.value)?n.setState({filterWord:null}):n.setState({filterWord:t})},n.changeColumns=function(e){var t=e.column1,a=e.column2,r=e.column3;n.setState({Columns:{column1:t,column2:a,column3:r}})},n}return Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getProjectDetails()}},{key:"render",value:function(){var n=this.state,e=n.Columns,t=n.isLoading,a=n.filterWord;return t?r.a.createElement(C,null):r.a.createElement("div",null,r.a.createElement(R,{sortList:this.sortList,filterSearch:this.filterSearch}),r.a.createElement(cn,{Columns:e,addTags:this.addTag,removeTags:this.removeTags,changeColumns:this.changeColumns,filterWord:a}))}}]),t}(a.Component),ln=function(n){Object(p.a)(t,n);var e=Object(m.a)(t);function t(){var n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))).state={masterToken:null,orgID:null,sessionToken:null,isLoggedIn:!1},n.orgIdChange=function(e){return n.setState({orgID:e.target.value})},n.masterTokenChange=function(e){return n.setState({masterToken:e.target.value})},n.getSessionToken=Object(l.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={Authorization:"Bearer ".concat(n.state.masterToken)},e.next=3,k.a.get("https://www.insidemaps.com/api/v2/sessionToken",{headers:t});case 3:a=e.sent,n.setState({sessionToken:a.data.data}),n.setState({isLoggedIn:!0});case 6:case"end":return e.stop()}}),e)}))),n}return Object(d.a)(t,[{key:"render",value:function(){var n=this.state,e=n.isLoggedIn,t=n.sessionToken,a=n.orgID;return e?r.a.createElement(sn,{token:t,orgID:a}):r.a.createElement("div",null,r.a.createElement(w,{getOrgID:this.orgIdChange,getMasterToken:this.masterTokenChange,getToken:this.getSessionToken}))}}]),t}(a.Component);var un=function(){return r.a.createElement(ln,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(un,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.7135ce81.chunk.js.map